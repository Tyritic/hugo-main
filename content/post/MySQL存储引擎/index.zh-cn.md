---
date : '2025-01-04T15:59:42+08:00'
draft : false
title : 'MySQL存储引擎'
image : ""
categories : ["MySQL"]
tags : ["数据库"]
description : "MySQL数据库的存储引擎"
math : true
---

## 体系结构

![image-20250104160118432](image-20250104160118432.png)

- 连接层：最上层是一些客户端和链接服务，主要完成一些类似于连接处理、授权认证、及相关的安全方案。服务器也会为安全接入的每个客户端验证它所具有的操作权限。
- 服务层：第二层架构主要完成大多数的核心服务功能，如SQL接口，并完成缓存的查询，SQL的分析和优化，部分内置函数的执行。所有跨存储引擎的功能也在这一层实现，如 过程、函数等。
- 引擎层：存储引擎真正的负责了MySQL中数据的存储和提取，服务器通过API和存储引擎进行通信。不同的存储引擎具有不同的功能，这样我们可以根据自己的需要，来选取合适的存储引擎。
- 存储层：主要是将数据存储在文件系统之上，并完成与存储引擎的交互

## 存储引擎简介

存储引擎就是存储数据、建立索引、更新/查询数据等技术的实现方式。存储引擎是基于表的，而不是基于库的，所以不同表可以使用不同的存储引擎

默认的存储引擎为 **innoDB**、

查询当前数据库支持的存储引擎

```mysql
show engines
```

指定存储引擎

```
create table table_name(
)engine = 引擎名
```

## 存储引擎的特点

### innoDB

InnoDB是一种兼顾高可靠性和高性能的通用存储引擎，在 MySQL5.5之后，InnoDB是默认的 MySOL存储引擎。

#### 特点

- DML操作遵循ACID模型，支持**事务**
- **行级锁**，提高并发访问性能
- **支持外键** FOREIGN KEY约束，保证数据的完整性和正确性

#### 对应的磁盘文件

innoDB引擎的每张表都会对应这样一个表空间文件：xxx.ibd（xxx代表的是表名）

存储该表的表结构（frm、sdi）、数据和索引

参数：innodb_file_per_table